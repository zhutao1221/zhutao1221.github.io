<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="three.js"></script>
    <script src="DeviceOrientationControls.js"></script>
</head>
<body>
    <script>
        var scene=new THREE.Scene();
        scene.background = new THREE.CubeTextureLoader()
        .setPath( 'pic/visit/' )
        .load( [ 'px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg' ] );

        var windowX = window.innerWidth-window.innerWidth;
        var windowY = window.innerHeight-window.innerWidth;
        //var windowX = 800;
        //var windowY = 600;
        var camera=new THREE.PerspectiveCamera(40,windowX/windowY,1,2000);
        camera.position.set(200,200,200);
        camera.lookAt(scene.position);

        var renderer=new THREE.WebGLRenderer();
        renderer.setSize(windowX,windowY);
        document.body.appendChild(renderer.domElement);

		window.addEventListener( 'resize', onWindowResize, false );
		
        function render() {
            renderer.render(scene,camera);
        }

        render();

        var controls=new THREE.DeviceOrientationControls(camera);
        //comtrols.addEventListener('change', render)

        function animate() {
            requestAnimationFrame( animate );
			controls.update();
            render();
        }

		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize( window.innerWidth, window.innerHeight );

		}
    </script>
</body>
</html>
